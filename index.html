<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>15x4 Share Your Knowledge</title>

    <link href='css/bootstrap.css' rel='stylesheet' type='text/css' media='all'>
    <link href="css/all.css" rel="stylesheet" type="text/css"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>

    <script language="JavaScript" src="app/parts/Billet.js"></script>
    <script language="JavaScript" src="app/parts/Workplace.js"></script>

    <script language="JavaScript" src="app/scratches.js"></script>
    <script language="JavaScript" src="app/knowledge.js"></script>
    <script language="JavaScript" src="app/draw.js"></script>

    <script language="JavaScript" src="app/space/Ship.js"></script>
    <script language="JavaScript" src="app/space/Space.js"></script>

    <script language="JavaScript" src="app/rally/Rally.js"></script>

    <script language="JavaScript" src="app/castle/Castle.js"></script>

    <script language="JavaScript" src="app/dungeon/Dungeon.js"></script>
    <script language="JavaScript" src="app/dungeon/Unit.js"></script>

    <script language="JavaScript" src="app/Gatherer.js"></script>
    <script language="JavaScript" src="app/Building.js"></script>
    <script language="JavaScript" src="app/Civilization.js"></script>
    <script language="JavaScript" src="app/Department.js"></script>
    <script language="JavaScript" src="app/Player.js"></script>
    <script language="JavaScript" src="app/Storages.js"></script>
    <script language="JavaScript" src="app/skills.js"></script>

    <script language="JavaScript" src="app/Badge.js"></script>
    <script language="JavaScript" src="app/badges.db.js"></script>

    <script language="JavaScript" src="app/Goal.js"></script>
    <script language="JavaScript" src="app/goals.db.js"></script>

    <script language="JavaScript" src="app/Startup.js"></script>
    <script language="JavaScript" src="app/startups.db.js"></script>

    <script language="JavaScript" src="app/Objective.js"></script>
    <script language="JavaScript" src="app/objectives.db.js"></script>

    <script language="JavaScript" src="app/Action.js"></script>
    <script language="JavaScript" src="app/actions.db.js"></script>

    <script language="JavaScript" src="app/Event.js"></script>
    <script language="JavaScript" src="app/events.db.js"></script>

    <script language="JavaScript" src="app/Lecture.js"></script>
    <script language="JavaScript" src="app/lectures.db.js"></script>

    <script language="JavaScript" src="app/LogPanel.js"></script>

    <script language="JavaScript" src="app/tips.js"></script>

    <script language="JavaScript" src="app/time.js"></script>

    <script language="JavaScript"></script>
</head>

<body>


    <div class="main_container">
        <div id="main_content" class="main_content80 main_content">
            <div class="time-reset-container">
                <div id="time_container"></div>

                <div id="reset_container">
                    <button onclick="if (!confirm('Are you sure to start next game? Your volunteers and lecturer come width you.')) return false; Player.reset();" id="reset_button" class="btn btn-default" title="Retired, my Lord?">Reset</button>
                    <button onclick="if (!confirm('Are you sure to start new game? All your progress will be erased.')) return false; Player.wipe();" id="wipe_button" class="btn btn-default" title="It is a mistake">Wipe</button>
                </div>
            </div>

            <div class="container">
                <hr>
            </div>

            <div class="container flex-container-column" id="goals_container">
            </div>

            <div class="container " id="enthusiasm_container" title="Collects slowly. Need for seeking volunteers and upgrade things.">
                <hr>
                Enthusiasm: <span id="enthusiasm_indicator">0</span>/<span id="enthusiasm_max_indicator">100</span>
                <div id="enthusiasm"></div>
            </div>

            <div class="container init_secret" id="prepare_container">
                <hr>
                <button class=" btn btn-primary" id="prepare_btn" onclick="Player.prepare();" title="Produce action points">
                    Prepare to actions
                </button>
            </div>

            <div class="container init_secret" id="action_points_container"></div>

            <div class="container init_secret" id="volunteers_container">
                <hr>
                <div>
                    Volunteers: <span id="volunteers_indicator" title="free volunteers produce culture">0</span>/<span id="volunteers_memory_indicator">0</span>
                </div>
                <div>
                    <button class="btn btn-primary" id="seek_container" onclick="Player.seek();" title="Produce volunteers and hype">
                        Tell your friends about project
                    </button>
                </div>
            </div>

            <div class="container init_secret" id="culture_container"></div>
            <div class="container init_secret" id="departments_container"></div>
            <div class="container init_secret" id="resources_container"></div>
            <div class="container init_secret" id="ะก2_resources_container"></div>
            <div class="container init_secret" id="events_container"></div>
            <div class="container init_secret" id="offered_lecture_container"></div>

            <div class="container init_secret" id="knowledge_container">
                <hr>
                <div id="your_knowledge"
                     title="Points that you spend to creation yourself.">
                    Knowledge:
                    <span id="knowledge_indicator">0</span>
                </div>
                <button class="btn btn-default" title="Exchange knowledge to volunteer, improve your prepare-to-actions and unlock learning in future." onclick="Player.shareKnowledge()">
                    Share Your Knowledge
                </button>
            </div>

            <div class="container init_secret" id="skills_container"></div>

            <div class="container init_secret" id="startups_container"></div>

            <div class="container init_secret" id="objectives_container"></div>

            <div class="container init_secret" id="reputations_container">
                <hr>
                Reputation:
                <div class="flex-container-row" id="reputations"></div>
            </div>

            <div class="container init_secret" id="dungeon_container">
                <hr>
                <button class="collapsar btn btn-default" data-toggle="collapse" data-target="#dungeon_collapse"></button>
                Dungeon
                <div class="collapse in" id="dungeon_collapse">
                    <div id="dungeon" class="flex-container-column">
                        <div class="flex-element flex-container-row">
                            <div class="flex-element">Stamina: 0/0</div>
                            <div class="flex-element">Poise: 0/0</div>
                            <div class="flex-element">HP: 0/0</div>
                            <div class="flex-element">MP: 0/0</div>
                        </div>
                        <div class="flex-element" id="dungeon_battlefield_container">
                            ____P_______________g_g_g_B_______________________________________
                        </div>
                        <div class="flex-element flex-container-row">
                            <div class="flex-element">
                                Weapon_STAT: 0
                                <button class="btn btn-default" onclick="">Up</button>
                            </div>
                            <div class="flex-element">
                                Armor_STAT: 0
                                <button class="btn btn-default" onclick="">Up</button>
                            </div>
                            <div class="flex-element">
                                HP_STAT: 0
                                <button class="btn btn-default" onclick="">Up</button>
                            </div>
                            <div class="flex-element">
                                MP_STAT: 0
                                <button class="btn btn-default" onclick="">Up</button>
                            </div>
                        </div>
                        <div class="flex-element flex-container-row">
                            <div class="flex-element flex-container-column">
                                <span>Weapon</span>
                                <div>Sword</div>
                                <div>Shield</div>
                                <div>Bow</div>
                                <div>Staff</div>
                            </div>
                            <div class="flex-element">
                                <span>Armor</span>
                                <div>Helm</div>
                                <div>Chest</div>
                                <div>Gloves</div>
                                <div>Boots</div>
                            </div>
                            <div class="flex-element">
                                <span>Shop</span>
                                <div>HP Potion</div>
                                <div>MP Potion</div>
                                <div>Rage</div>
                                <div>Firebomb</div>
                            </div>
                            <div class="flex-element">
                                <span>Magic</span>
                                <div>Heal</div>
                                <div>Wave</div>
                                <div>Rage</div>
                                <div>Fireball</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container init_secret" id="space_container"></div>
            <div class="container init_secret" id="rally_container"></div>
            <div class="container init_secret" id="castle_container"></div>

            <div class="container init_secret" id="badges_container"></div>
        </div>

        <aside class="sidebar" id="log_panel_container">
            <p>
                Log Panel
                <button onclick="LogPanel.clear()" class="btn btn-default">ClearLog</button>

                <button id="log_panel_button" class="collapsar btn btn-default" data-toggle="collapse" data-target="#log_panel_collapse"
                        onclick="LogPanel.hide()">
                        
                </button>
            </p>
            <div>Day: <span id="day_indicator">0</span></div>
            <hr>
            <div class="collapse in log-panel" id="log_panel_collapse">
                <a href="#log_panel_filters" data-toggle="collapse">Log Settings</a>
                <div id="log_panel_filters" class="collapse"></div>
                <hr>
                <div id="log_message"></div>
            </div>
        </aside>

    </div>


    <script language="JavaScript">

        draw_all();

        var t = setInterval(Time.tick, 1000);
        Player.revealSecret('prepare');
        Player.revealSecret('popularization');
        Player.revealSecret('communication');
        //Player.revealSecret('motivation');

        var savedPlayer = JSON.parse(localStorage.getItem("Player"));
        if (savedPlayer) {
            console.log("savedPlayer" + savedPlayer);

            for (var i = 0; i < savedPlayer.volunteers_memory; i++) {
                Gatherer.found(1);
                Player.volunteers_memory++;
                Player.volunteers++;
            }
            Player.volunteers += savedPlayer.volunteers_memory - i;
            Player.volunteers_memory += savedPlayer.volunteers_memory - i;

            Player.race_win_points = savedPlayer.race_win_points;
            Player.race_win_points_memory = savedPlayer.race_win_points_memory;
        }

        var savedLectures = JSON.parse(localStorage.getItem("lectures.db"));
        if (savedLectures) {
            lectures.db = savedLectures;
        }

    </script>

</body>
</html>